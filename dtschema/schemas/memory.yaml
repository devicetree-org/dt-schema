# SPDX-License-Identifier: BSD-2-Clause
# Copyright 2018 Linaro Ltd.
# Copyright 2018 Arm Ltd.
%YAML 1.2
---
$id: http://devicetree.org/schemas/memory.yaml#
$schema: http://devicetree.org/meta-schemas/core.yaml#

title: /memory nodes
description: |
  Common properties always required in /memory nodes

maintainers:
  - Rob Herring <robh@kernel.org>

properties:
  $nodename:
    const: '/'

patternProperties:
  "^memory(@[0-9a-f]+)?$":
    type: object
    additionalProperties: false

    properties:
      device_type:
        const: memory
      reg:
        minItems: 1
        maxItems: 1024

      numa-node-id:
        $ref: types.yaml#/definitions/uint32
        description:
          For the purpose of identification, each NUMA node is associated with
          a unique token known as a node id.

      ecc-detection-bits:
        default: 0
        description: |
          If present, this indicates the number of bits of memory error which
          can be detected and reported by the Error-Correction Code (ECC) memory
          subsystem (typically 0, 1 or 2).

      ecc-correction-bits:
        default: 0
        description: |
          If present, this indicates the number of bits of memory error which
          can be corrected by the Error-Correction Code (ECC) memory subsystem
          (typically 0, 1 or 2).

      ddr_device_type:
        $ref: types.yaml#/definitions/uint32
        deprecated: true
        description:
          This is the ugly non-standard property set by some bootloaders to
          describe the attached memory type. Unfortunately it is not possible
          to update those bootloaders to use the defined schema for LPDDR
          device nodes. This property is described here solely for the
          documentation purposes, it MUST NOT be used in any of the DT files.
          Use of this property outside of the described usecase is strictly
          forbidden.
        enum:
          - 5 # LPDDR3
          - 7 # LPDDR4x
          - 8 # LPDDR5

    required:
      - device_type
      - reg

additionalProperties: true

...
